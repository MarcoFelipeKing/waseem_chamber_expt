pacman::p_load(dplyr,readxl,tidyr,ggplot2)
df <- read_xlsx(path = "../data/chamber_expt_data.xlsx",sheet = 1)
df
df <- read_xlsx(path = "../data/chamber_expt_data.xlsx",sheet = 1) %>% janitor::clean_names()
df
df %>%
ggplot()+
geom_point(aes(x=air_load_cfu_m3,y=surface_load_cfu_2_h_1,colour=position_air_inlet_1_or_outlet2))+
facet_grid(~ach_3_or_6)
df %>%
ggplot()+
geom_point(aes(x=air_load_cfu_m3,y=surface_load_cfu_m_2_h_1,colour=position_air_inlet_1_or_outlet2))+
facet_grid(~ach_3_or_6)
df %>%
ggplot()+
geom_point(aes(x=air_load_cfu_m3,y=surface_load_cfu_m_2_h_1,colour=position_air_inlet_1_or_outlet_2))+
facet_grid(~ach_3_or_6)
df %>%
rename("position"="position_air_inlet_1_or_outlet_2")
df %>%
rename("position"="position_air_inlet_1_or_outlet_2","ach"="ach_3_or_6",
"air"="air_load_cfu_m3",
"surface"="surface_load_cfu_m_2_h_1") %>%
mutate(position=as.factor(position),
ach=as.factor(ach)) %>%
ggplot()+
geom_point(aes(x=air,y=surface,colour=position))+
facet_grid(~ach)
df %>%
rename("position"="position_air_inlet_1_or_outlet_2","ach"="ach_3_or_6",
"air"="air_load_cfu_m3",
"surface"="surface_load_cfu_m_2_h_1") %>%
mutate(position=as.factor(position),
ach=as.factor(ach)) %>%
ggplot()+
geom_point(aes(x=air,y=surface,colour=position))+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Airborne concentration")
df %>%
rename("position"="position_air_inlet_1_or_outlet_2","ach"="ach_3_or_6",
"air"="air_load_cfu_m3",
"surface"="surface_load_cfu_m_2_h_1") %>%
mutate(position=as.factor(position),
ach=as.factor(ach)) %>%
ggplot()+
geom_point(aes(x=air,y=surface,colour=position))+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Airborne concentration")+
scale_color_brewer(palette = "Set2")
df %>%
rename("position"="position_air_inlet_1_or_outlet_2","ach"="ach_3_or_6",
"air"="air_load_cfu_m3",
"surface"="surface_load_cfu_m_2_h_1") %>%
mutate(position=as.factor(position),
ach=as.factor(ach)) %>%
ggplot()+
geom_point(aes(x=air,y=surface,colour=position))+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Airborne concentration")+
scale_color_brewer(palette = "Set2")+
hrbrthemes::theme_ipsum()
df %>%
rename("position"="position_air_inlet_1_or_outlet_2","ach"="ach_3_or_6",
"air"="air_load_cfu_m3",
"surface"="surface_load_cfu_m_2_h_1") %>%
mutate(position=as.factor(position),
ach=as.factor(ach)) %>%
ggplot()+
geom_point(aes(x=air,y=surface,colour=position))+
geom_smooth(aes(x=air,y=surface,colour=position))+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Airborne concentration")+
scale_color_brewer(palette = "Set2")+
hrbrthemes::theme_ipsum()
df %>%
rename("position"="position_air_inlet_1_or_outlet_2","ach"="ach_3_or_6",
"air"="air_load_cfu_m3",
"surface"="surface_load_cfu_m_2_h_1") %>%
mutate(position=as.factor(position),
ach=as.factor(ach)) %>%
ggplot()+
geom_point(aes(x=air,y=surface,colour=position))+
geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Airborne concentration")+
scale_color_brewer(palette = "Set2")+
hrbrthemes::theme_ipsum()
df %>%
rename("position"="position_air_inlet_1_or_outlet_2","ach"="ach_3_or_6",
"air"="air_load_cfu_m3",
"surface"="surface_load_cfu_m_2_h_1") %>%
mutate(position=as.factor(position),
ach=as.factor(ach)) ->df
df
df %>%
ggplot()+
geom_point(aes(x=time,y=surface,colour=position))+
# geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
# scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Airborne concentration")+
scale_color_brewer(palette = "Set2")+
hrbrthemes::theme_ipsum()
df %>%
ggplot()+
geom_point(aes(x=time_min,y=surface,colour=position))+
# geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
# scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Airborne concentration")+
scale_color_brewer(palette = "Set2")+
hrbrthemes::theme_ipsum()
df %>%
ggplot()+
geom_point(aes(x=time_min,y=surface,colour=position))+
# geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
# scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Time (minutes)")+
scale_color_brewer(palette = "Set2")+
hrbrthemes::theme_ipsum()
df %>%
ggplot()+
geom_point(aes(x=time_min,y=surface,colour=position))+
# geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
# scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Time (minutes)")+
scale_color_brewer(palette = "Set1")+
hrbrthemes::theme_ipsum()
rep(1:12,each=5)
df %>%
rename("position"="position_air_inlet_1_or_outlet_2","ach"="ach_3_or_6",
"air"="air_load_cfu_m3",
"surface"="surface_load_cfu_m_2_h_1") %>%
mutate(position=as.factor(position),
ach=as.factor(ach)) %>%
mutate(repeate=rep(rep(1:12,each=5),2))->df
df <- read_xlsx(path = "../data/chamber_expt_data.xlsx",sheet = 1) %>% janitor::clean_names()
df %>%
rename("position"="position_air_inlet_1_or_outlet_2","ach"="ach_3_or_6",
"air"="air_load_cfu_m3",
"surface"="surface_load_cfu_m_2_h_1") %>%
mutate(position=as.factor(position),
ach=as.factor(ach)) %>%
mutate(repeate=rep(rep(1:12,each=5),2))->df
df
df %>%
ggplot()+
geom_point(aes(x=time_min,y=surface,colour=position))+
geom_line(aes(x=time_min,y=surface,colour=repeate))+
# geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
# scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Time (minutes)")+
scale_color_brewer(palette = "Set1")+
hrbrthemes::theme_ipsum()
df %>%
ggplot()+
geom_point(aes(x=time_min,y=surface,colour=position))+
geom_line(aes(x=time_min,y=surface,colour=repeate))+
# geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
# scale_y_continuous(trans="log10")+
# scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Time (minutes)")+
# scale_color_brewer(palette = "Set1")+
hrbrthemes::theme_ipsum()
df %>%
ggplot()+
# geom_point(aes(x=time_min,y=surface,colour=position))+
geom_line(aes(x=time_min,y=surface,colour=repeate))+
# geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
# scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Time (minutes)")+
scale_color_brewer(palette = "Set1")+
hrbrthemes::theme_ipsum()
# geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
# scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Time (minutes)")+
scale_color_brewer(palette = "Set1")+
hrbrthemes::theme_ipsum()
df %>%
ggplot()+
# geom_point(aes(x=time_min,y=surface,colour=position))+
geom_line(aes(x=time_min,y=surface,colour=repeticion))
df <- read_xlsx(path = "../data/chamber_expt_data.xlsx",sheet = 1) %>% janitor::clean_names()
df %>%
rename("position"="position_air_inlet_1_or_outlet_2","ach"="ach_3_or_6",
"air"="air_load_cfu_m3",
"surface"="surface_load_cfu_m_2_h_1") %>%
mutate(position=as.factor(position),
ach=as.factor(ach)) %>%
mutate(repeticion=rep(rep(1:12,each=5),2))->df
# geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
# scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Time (minutes)")+
scale_color_brewer(palette = "Set1")+
hrbrthemes::theme_ipsum()
df %>%
ggplot()+
# geom_point(aes(x=time_min,y=surface,colour=position))+
geom_line(aes(x=time_min,y=surface,colour=repeticion))
df %>%
ggplot()+
geom_point(aes(x=time_min,y=surface,colour=position))
df %>%
ggplot()+
geom_point(aes(x=time_min,y=surface,colour=position))+
geom_line(aes(x=time_min,y=surface,colour=as.factor(repeticion)))
df %>%
ggplot()+
geom_point(aes(x=air,y=surface,colour=position))+
geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Airborne concentration")+
scale_color_brewer(palette = "Set2")+
hrbrthemes::theme_ipsum()
df %>%
ggplot()+
geom_point(aes(x=air,y=surface,colour=position))+
geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Airborne concentration")+
scale_color_brewer(palette = "Set2")+
hrbrthemes::theme_ipsum()->a
df %>%
ggplot()+
geom_point(aes(x=time_min,y=surface,colour=position))+
# geom_line(aes(x=time_min,y=surface,colour=as.factor(repeticion)))
# geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
# scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Time (minutes)")+
scale_color_brewer(palette = "Set1")+
hrbrthemes::theme_ipsum() ->b
ggpubr::ggarrange(a,b)
df %>%
ggplot()+
geom_point(aes(x=air,y=surface,colour=position))+
geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Airborne concentration")+
scale_color_brewer(palette = "Set2")+
hrbrthemes::theme_ipsum()+
theme(legend.position="")->a
df %>%
ggplot()+
geom_point(aes(x=time_min,y=surface,colour=position))+
# geom_line(aes(x=time_min,y=surface,colour=as.factor(repeticion)))
# geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
# scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Time (minutes)")+
scale_color_brewer(palette = "Set1")+
hrbrthemes::theme_ipsum() ->b
ggpubr::ggarrange(a,b)
ggpubr::ggarrange(a,b,nrow = 2)
df %>%
ggplot()+
geom_point(aes(x=air,y=surface,colour=position))+
geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Airborne concentration")+
scale_color_brewer(palette = "Set1")+
hrbrthemes::theme_ipsum()+
theme(legend.position="")->a
ggpubr::ggarrange(a,b,nrow = 2)
df %>%
ggplot()+
geom_point(aes(x=air,y=surface,colour=position))+
geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach,scales="free")+
scale_y_continuous(trans="log10")+
scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Airborne concentration")+
scale_color_brewer(palette = "Set1")+
hrbrthemes::theme_ipsum()+
theme(legend.position="")->a
ggpubr::ggarrange(a,b,nrow = 2)
df %>%
ggplot()+
geom_point(aes(x=time_min,y=surface,colour=position))+
# geom_line(aes(x=time_min,y=surface,colour=as.factor(repeticion)))
# geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
# scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Time (minutes)")+
scale_color_brewer(palette = "Set1")+
hrbrthemes::theme_ipsum()+
theme(legend.position="top") ->b
ggpubr::ggarrange(a,b,nrow = 2)
df %>%
ggplot()+
geom_point(aes(x=time_min,y=surface,colour=position))+
# geom_line(aes(x=time_min,y=surface,colour=as.factor(repeticion)))
# geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
# scale_x_continuous(trans="log10")+
ylab("Surface concentration")+
xlab("Time (minutes)")+
scale_color_brewer(palette = "Set1")+
hrbrthemes::theme_ipsum()+
theme(legend.position="") ->b
ggpubr::ggarrange(a,b,nrow = 2)
a
b
df %>%
ggplot()+
geom_point(aes(x=time_min,y=air,colour=position))+
# geom_line(aes(x=time_min,y=surface,colour=as.factor(repeticion)))
# geom_smooth(aes(x=air,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
# scale_x_continuous(trans="log10")+
ylab("Air concentration")+
xlab("Time (minutes)")+
scale_color_brewer(palette = "Set1")+
hrbrthemes::theme_ipsum()+
theme(legend.position="") ->b
b
df %>%
ggplot()+
geom_point(aes(x=time_min,y=air,colour=position))+
# geom_line(aes(x=time_min,y=surface,colour=as.factor(repeticion)))
geom_smooth(aes(x=time_min,y=air,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
# scale_x_continuous(trans="log10")+
ylab("Air concentration (cfu m3)")+
xlab("Time (minutes)")+
scale_color_brewer(palette = "Set1")+
hrbrthemes::theme_ipsum()+
theme(legend.position="") ->b
b
A1=matrix(c(500,50,200,75),2,2)
A1
A2=matrix(c(220,80,-550,-60),2,2)
A2
r=matrix(c(-1,0,0,1))
r
r=matrix(c(-1,0,0,1),2,2)
r
require(Matrix)
r%*%A2
A2
A2=matrix(c(220,-550,80,-60),2,2)
A2
A!
A1
A1=matrix(c(500,200,50,75),2,2)
A1
r%*%A2
A2
r
r=matrix(c(0,1,-1,0),2,2)
r
r%*%A2
r%*%A2+A1
(r%*%A2+A1)/2
M=matrix(c(1,2,3,5,3,0,3,0,5))
M=matrix(c(1,2,3,5,3,0,3,0,5),3,3)
M
det(M)
b=matrix(c(16,5,4))
b
inv(M)%*%b
solve(M)
solve(M)*b
solve(M)%*%b
M=matrix(c(1,2,3,2,5,4,-1,-4,2),3,3)
M
b=matrix(c(3,5,12))
solve(M)%*%b
solve(M)
M
det(M)
8-15
df %>%
ggplot()+
geom_point(aes(x=time_min,y=surface,colour=position))+
# geom_line(aes(x=time_min,y=surface,colour=as.factor(repeticion)))
geom_smooth(aes(x=time_min,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
# scale_x_continuous(trans="log10")+
ylab("Surface concentration (¿¿)")+
xlab("Time (minutes)")+
scale_color_brewer(palette = "Set1")+
hrbrthemes::theme_ipsum()+
theme(legend.position="") ->b
df %>%
ggplot()+
geom_point(aes(x=time_min,y=surface,colour=position))+
# geom_line(aes(x=time_min,y=surface,colour=as.factor(repeticion)))
geom_smooth(aes(x=time_min,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
# scale_x_continuous(trans="log10")+
ylab("Surface concentration (¿¿)")+
xlab("Time (minutes)")+
scale_color_brewer(palette = "Set1")+
hrbrthemes::theme_ipsum()+
theme(legend.position="")
df %>%
ggplot()+
geom_point(aes(x=time_min,y=surface,colour=position))+
# geom_line(aes(x=time_min,y=surface,colour=as.factor(repeticion)))
geom_smooth(aes(x=time_min,y=surface,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
# scale_x_continuous(trans="log10")+
ylab("Surface concentration (¿¿)")+
xlab("Time (minutes)")+
scale_color_brewer(palette = "Set1")+
hrbrthemes::theme_ipsum()+
theme(legend.position="")->c
ggpubr::ggarrange(b,c,nrow = 2)
df %>%
ggplot()+
geom_point(aes(x=time_min,y=air,colour=position))+
# geom_line(aes(x=time_min,y=surface,colour=as.factor(repeticion)))
geom_smooth(aes(x=time_min,y=air,colour=position),method="lm")+
facet_grid(~ach)+
scale_y_continuous(trans="log10")+
# scale_x_continuous(trans="log10")+
ylab("Air concentration (cfu m3)")+
xlab("Time (minutes)")+
scale_color_brewer(palette = "Set1")+
hrbrthemes::theme_ipsum()+
theme(legend.position="") ->b
b
df
a
